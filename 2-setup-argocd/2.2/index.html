<!DOCTYPE html><html><head><meta charSet="utf-8"/><title>2.2 – Nextra</title><meta name="robots" content="index,follow"/><meta property="og:title" content="2.2 – Nextra"/><meta name="theme-color" content="#111" media="(prefers-color-scheme: dark)"/><meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/><style>
        :root {
          --nextra-primary-hue: 212deg;
          --nextra-primary-saturation: 100%;
          --nextra-navbar-height: 4rem;
          --nextra-menu-height: 3.75rem;
          --nextra-banner-height: 2.5rem;
        }
        
        .dark {
          --nextra-primary-hue: 204deg;
          --nextra-primary-saturation: 100%;
        }
      </style><meta name="msapplication-TileColor" content="#fff"/><meta http-equiv="Content-Language" content="en"/><meta name="description" content="Nextra: the next docs builder"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@shuding_"/><meta property="og:title" content="Nextra: the next docs builder"/><meta property="og:description" content="Nextra: the next docs builder"/><meta name="apple-mobile-web-app-title" content="Nextra"/><meta name="next-head-count" content="15"/><link rel="preload" href="/docs-argocd-setup-at-eks/_next/static/css/445c4173ffc2bf04.css" as="style" crossorigin=""/><link rel="stylesheet" href="/docs-argocd-setup-at-eks/_next/static/css/445c4173ffc2bf04.css" crossorigin="" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/docs-argocd-setup-at-eks/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/docs-argocd-setup-at-eks/_next/static/chunks/webpack-d88cbbe9e7695c08.js" defer="" crossorigin=""></script><script src="/docs-argocd-setup-at-eks/_next/static/chunks/framework-0c7baedefba6b077.js" defer="" crossorigin=""></script><script src="/docs-argocd-setup-at-eks/_next/static/chunks/main-dd2a5c4940cced25.js" defer="" crossorigin=""></script><script src="/docs-argocd-setup-at-eks/_next/static/chunks/pages/_app-c54702eb327175a3.js" defer="" crossorigin=""></script><script src="/docs-argocd-setup-at-eks/_next/static/chunks/796-57bfb4b4cc437b00.js" defer="" crossorigin=""></script><script src="/docs-argocd-setup-at-eks/_next/static/chunks/pages/2-setup-argocd/2.2-95326de9f01b998b.js" defer="" crossorigin=""></script><script src="/docs-argocd-setup-at-eks/_next/static/EhRCgNBg_koVziJJ225v6/_buildManifest.js" defer="" crossorigin=""></script><script src="/docs-argocd-setup-at-eks/_next/static/EhRCgNBg_koVziJJ225v6/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div dir="ltr"><script>document.documentElement.setAttribute('dir','ltr')</script><div class="nextra-nav-container nx-sticky nx-top-0 nx-z-20 nx-w-full nx-bg-transparent print:nx-hidden"><div class="nextra-nav-container-blur nx-pointer-events-none nx-absolute nx-z-[-1] nx-h-full nx-w-full nx-bg-white dark:nx-bg-dark nx-shadow-[0_2px_4px_rgba(0,0,0,.02),0_1px_0_rgba(0,0,0,.06)] dark:nx-shadow-[0_-1px_0_rgba(255,255,255,.1)_inset] contrast-more:nx-shadow-[0_0_0_1px_#000] contrast-more:dark:nx-shadow-[0_0_0_1px_#fff]"></div><nav class="nx-mx-auto nx-flex nx-h-[var(--nextra-navbar-height)] nx-max-w-[90rem] nx-items-center nx-justify-end nx-gap-2 nx-pl-[max(env(safe-area-inset-left),1.5rem)] nx-pr-[max(env(safe-area-inset-right),1.5rem)]"><a class="nx-flex nx-items-center hover:nx-opacity-75 ltr:nx-mr-auto rtl:nx-ml-auto" href="/docs-argocd-setup-at-eks/"><span>My Project</span></a><a class="nx-text-sm contrast-more:nx-text-gray-700 contrast-more:dark:nx-text-gray-100 nx-relative -nx-ml-2 nx-hidden nx-whitespace-nowrap nx-p-2 md:nx-inline-block nx-text-gray-600 hover:nx-text-gray-800 dark:nx-text-gray-400 dark:hover:nx-text-gray-200" aria-current="false" href="/docs-argocd-setup-at-eks/about/"><span class="nx-absolute nx-inset-x-0 nx-text-center">About</span><span class="nx-invisible nx-font-medium">About</span></a><a href="-" target="_blank" rel="noreferrer" class="nx-text-sm contrast-more:nx-text-gray-700 contrast-more:dark:nx-text-gray-100 nx-relative -nx-ml-2 nx-hidden nx-whitespace-nowrap nx-p-2 md:nx-inline-block nx-text-gray-600 hover:nx-text-gray-800 dark:nx-text-gray-400 dark:hover:nx-text-gray-200" aria-current="false"><span class="nx-absolute nx-inset-x-0 nx-text-center">Contact ↗</span><span class="nx-invisible nx-font-medium">Contact ↗</span><span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a><div class="nextra-search nx-relative md:nx-w-64 nx-hidden md:nx-inline-block mx-min-w-[200px]"><div class="nx-relative nx-flex nx-items-center nx-text-gray-900 contrast-more:nx-text-gray-800 dark:nx-text-gray-300 contrast-more:dark:nx-text-gray-300"><input spellcheck="false" class="nx-block nx-w-full nx-appearance-none nx-rounded-lg nx-px-3 nx-py-2 nx-transition-colors nx-text-base nx-leading-tight md:nx-text-sm nx-bg-black/[.05] dark:nx-bg-gray-50/10 focus:nx-bg-white dark:focus:nx-bg-dark placeholder:nx-text-gray-500 dark:placeholder:nx-text-gray-400 contrast-more:nx-border contrast-more:nx-border-current" type="search" placeholder="Search documentation…" value=""/></div></div><a href="https://github.com/chagchagchag/docs-argocd-setup-at-eks" target="_blank" rel="noreferrer" class="nx-p-2 nx-text-current"><svg width="24" height="24" fill="currentColor" viewBox="3 3 18 18"><title>GitHub</title><path d="M12 3C7.0275 3 3 7.12937 3 12.2276C3 16.3109 5.57625 19.7597 9.15374 20.9824C9.60374 21.0631 9.77249 20.7863 9.77249 20.5441C9.77249 20.3249 9.76125 19.5982 9.76125 18.8254C7.5 19.2522 6.915 18.2602 6.735 17.7412C6.63375 17.4759 6.19499 16.6569 5.8125 16.4378C5.4975 16.2647 5.0475 15.838 5.80124 15.8264C6.51 15.8149 7.01625 16.4954 7.18499 16.7723C7.99499 18.1679 9.28875 17.7758 9.80625 17.5335C9.885 16.9337 10.1212 16.53 10.38 16.2993C8.3775 16.0687 6.285 15.2728 6.285 11.7432C6.285 10.7397 6.63375 9.9092 7.20749 9.26326C7.1175 9.03257 6.8025 8.08674 7.2975 6.81794C7.2975 6.81794 8.05125 6.57571 9.77249 7.76377C10.4925 7.55615 11.2575 7.45234 12.0225 7.45234C12.7875 7.45234 13.5525 7.55615 14.2725 7.76377C15.9937 6.56418 16.7475 6.81794 16.7475 6.81794C17.2424 8.08674 16.9275 9.03257 16.8375 9.26326C17.4113 9.9092 17.76 10.7281 17.76 11.7432C17.76 15.2843 15.6563 16.0687 13.6537 16.2993C13.98 16.5877 14.2613 17.1414 14.2613 18.0065C14.2613 19.2407 14.25 20.2326 14.25 20.5441C14.25 20.7863 14.4188 21.0746 14.8688 20.9824C16.6554 20.364 18.2079 19.1866 19.3078 17.6162C20.4077 16.0457 20.9995 14.1611 21 12.2276C21 7.12937 16.9725 3 12 3Z"></path></svg><span class="nx-sr-only">GitHub</span><span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a><button type="button" aria-label="Menu" class="nextra-hamburger -nx-mr-2 nx-rounded nx-p-2 active:nx-bg-gray-400/20 md:nx-hidden"><svg fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor" class=""><g><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16"></path></g><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12h16"></path><g><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 18h16"></path></g></svg></button></nav></div><div class="nx-mx-auto nx-flex nx-max-w-[90rem]"><div class="motion-reduce:nx-transition-none [transition:background-color_1.5s_ease] nx-bg-transparent"></div><aside class="nextra-sidebar-container nx-flex nx-flex-col md:nx-top-16 md:nx-shrink-0 motion-reduce:nx-transform-none nx-transform-gpu nx-transition-all nx-ease-in-out print:nx-hidden md:nx-w-64 md:nx-sticky md:nx-self-start max-md:[transform:translate3d(0,-100%,0)]"><div class="nx-px-4 nx-pt-4 md:nx-hidden"><div class="nextra-search nx-relative md:nx-w-64"><div class="nx-relative nx-flex nx-items-center nx-text-gray-900 contrast-more:nx-text-gray-800 dark:nx-text-gray-300 contrast-more:dark:nx-text-gray-300"><input spellcheck="false" class="nx-block nx-w-full nx-appearance-none nx-rounded-lg nx-px-3 nx-py-2 nx-transition-colors nx-text-base nx-leading-tight md:nx-text-sm nx-bg-black/[.05] dark:nx-bg-gray-50/10 focus:nx-bg-white dark:focus:nx-bg-dark placeholder:nx-text-gray-500 dark:placeholder:nx-text-gray-400 contrast-more:nx-border contrast-more:nx-border-current" type="search" placeholder="Search documentation…" value=""/></div></div></div><div class="nx-overflow-y-auto nx-overflow-x-hidden nx-p-4 nx-grow md:nx-h-[calc(100vh-var(--nextra-navbar-height)-var(--nextra-menu-height))] nextra-scrollbar"><div class="nx-transform-gpu nx-overflow-hidden nx-transition-all nx-ease-in-out motion-reduce:nx-transition-none"><div class="nx-transition-opacity nx-duration-500 nx-ease-in-out motion-reduce:nx-transition-none nx-opacity-100"><ul class="nx-flex nx-flex-col nx-gap-1 nextra-menu-desktop max-md:nx-hidden"><li class="open"><button class="nx-items-center nx-justify-between nx-gap-2 nx-text-left nx-w-full nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50">접근 환경 구성<svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="nx-h-[18px] nx-min-w-[18px] nx-rounded-sm nx-p-0.5 hover:nx-bg-gray-800/5 dark:hover:nx-bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="nx-origin-center nx-transition-transform rtl:-nx-rotate-180 ltr:nx-rotate-90 rtl:nx-rotate-[-270deg]"></path></svg></button><div class="nx-transform-gpu nx-overflow-hidden nx-transition-all nx-ease-in-out motion-reduce:nx-transition-none"><div class="nx-transition-opacity nx-duration-500 nx-ease-in-out motion-reduce:nx-transition-none nx-opacity-100 ltr:nx-pr-0 rtl:nx-pl-0 nx-pt-1"><ul class="nx-flex nx-flex-col nx-gap-1 nx-relative before:nx-absolute before:nx-inset-y-1 before:nx-w-px before:nx-bg-gray-200 before:nx-content-[&quot;&quot;] dark:before:nx-bg-neutral-800 ltr:nx-pl-3 ltr:before:nx-left-0 rtl:nx-pr-3 rtl:before:nx-right-0 ltr:nx-ml-3 rtl:nx-mr-3"><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/docs-argocd-setup-at-eks/0-setup-access-tools/0.1">1.Administrator 권한의 IAM User, Access Key, Access Key Secret 생성</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/docs-argocd-setup-at-eks/0-setup-access-tools/0.2">2.AWS Cloud 9 셋업</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/docs-argocd-setup-at-eks/0-setup-access-tools/0.3">3.EKS, k8s 접근 도구 셋업</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/docs-argocd-setup-at-eks/0-setup-access-tools/0.4">4.Cloud9 의 Access Key, Access Key Secret 새로고침문제 해결방법</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/docs-argocd-setup-at-eks/0-setup-access-tools/0.5">5.ArgoCD ALB 용도의 Ingress 에 서브넷 지정, 보안 그룹 생성</a></li></ul></div></div></li><li class="open"><button class="nx-items-center nx-justify-between nx-gap-2 nx-text-left nx-w-full nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50">EKS 생성 &amp; 셋업<svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="nx-h-[18px] nx-min-w-[18px] nx-rounded-sm nx-p-0.5 hover:nx-bg-gray-800/5 dark:hover:nx-bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="nx-origin-center nx-transition-transform rtl:-nx-rotate-180 ltr:nx-rotate-90 rtl:nx-rotate-[-270deg]"></path></svg></button><div class="nx-transform-gpu nx-overflow-hidden nx-transition-all nx-ease-in-out motion-reduce:nx-transition-none"><div class="nx-transition-opacity nx-duration-500 nx-ease-in-out motion-reduce:nx-transition-none nx-opacity-100 ltr:nx-pr-0 rtl:nx-pl-0 nx-pt-1"><ul class="nx-flex nx-flex-col nx-gap-1 nx-relative before:nx-absolute before:nx-inset-y-1 before:nx-w-px before:nx-bg-gray-200 before:nx-content-[&quot;&quot;] dark:before:nx-bg-neutral-800 ltr:nx-pl-3 ltr:before:nx-left-0 rtl:nx-pr-3 rtl:before:nx-right-0 ltr:nx-ml-3 rtl:nx-mr-3"><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/docs-argocd-setup-at-eks/1-create-an-eks/1.0">0. 소개</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/docs-argocd-setup-at-eks/1-create-an-eks/1.1">1. eksctl 을 사용해 EKS Cluster 생성</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/docs-argocd-setup-at-eks/1-create-an-eks/1.2">2. eksctl 을 사용해 EKS Nodegroup 생성</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/docs-argocd-setup-at-eks/1-create-an-eks/1.3">3. Managed Nodegroup 삭제</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/docs-argocd-setup-at-eks/1-create-an-eks/1.4">4. EKS 추가기능 (VPC CNI, CSI 드라이버, kube-proxy, CoreDNS) 설치</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/docs-argocd-setup-at-eks/1-create-an-eks/1.5">5. oidc 조회 및 클러스터 service account 생성</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/docs-argocd-setup-at-eks/1-create-an-eks/1.6">6. helm 을 이용해 aws-load-balancer-controller 생성</a></li></ul></div></div></li><li class="open"><button class="nx-items-center nx-justify-between nx-gap-2 nx-text-left nx-w-full nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50">EKS 내에 ArgoCD 구축<svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="nx-h-[18px] nx-min-w-[18px] nx-rounded-sm nx-p-0.5 hover:nx-bg-gray-800/5 dark:hover:nx-bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="nx-origin-center nx-transition-transform rtl:-nx-rotate-180 ltr:nx-rotate-90 rtl:nx-rotate-[-270deg]"></path></svg></button><div class="nx-transform-gpu nx-overflow-hidden nx-transition-all nx-ease-in-out motion-reduce:nx-transition-none"><div class="nx-transition-opacity nx-duration-500 nx-ease-in-out motion-reduce:nx-transition-none nx-opacity-100 ltr:nx-pr-0 rtl:nx-pl-0 nx-pt-1"><ul class="nx-flex nx-flex-col nx-gap-1 nx-relative before:nx-absolute before:nx-inset-y-1 before:nx-w-px before:nx-bg-gray-200 before:nx-content-[&quot;&quot;] dark:before:nx-bg-neutral-800 ltr:nx-pl-3 ltr:before:nx-left-0 rtl:nx-pr-3 rtl:before:nx-right-0 ltr:nx-ml-3 rtl:nx-mr-3"><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/docs-argocd-setup-at-eks/2-setup-argocd/2.1">1. ArgoCD 공식 제공 yml 을 이용해 ArgoCD 설치</a></li><li class="nx-flex nx-flex-col nx-gap-1 active"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-bg-primary-100 nx-font-semibold nx-text-primary-800 dark:nx-bg-primary-400/10 dark:nx-text-primary-600 contrast-more:nx-border-primary-500 contrast-more:dark:nx-border-primary-500" href="/docs-argocd-setup-at-eks/2-setup-argocd/2.2">2. ArgoCD 구축 (2) ArgoCD 에 HTTP 허용</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/docs-argocd-setup-at-eks/2-setup-argocd/2.3">3. 80포트 허용된 ArgoCD 에 Ingress URL 을 통해 접속해보기</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/docs-argocd-setup-at-eks/2-setup-argocd/2.4">4. ArgoCD 의 Default Password 변경</a></li></ul></div></div></li><li class="open"><button class="nx-items-center nx-justify-between nx-gap-2 nx-text-left nx-w-full nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50">etc<svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="nx-h-[18px] nx-min-w-[18px] nx-rounded-sm nx-p-0.5 hover:nx-bg-gray-800/5 dark:hover:nx-bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="nx-origin-center nx-transition-transform rtl:-nx-rotate-180 ltr:nx-rotate-90 rtl:nx-rotate-[-270deg]"></path></svg></button><div class="nx-transform-gpu nx-overflow-hidden nx-transition-all nx-ease-in-out motion-reduce:nx-transition-none"><div class="nx-transition-opacity nx-duration-500 nx-ease-in-out motion-reduce:nx-transition-none nx-opacity-100 ltr:nx-pr-0 rtl:nx-pl-0 nx-pt-1"><ul class="nx-flex nx-flex-col nx-gap-1 nx-relative before:nx-absolute before:nx-inset-y-1 before:nx-w-px before:nx-bg-gray-200 before:nx-content-[&quot;&quot;] dark:before:nx-bg-neutral-800 ltr:nx-pl-3 ltr:before:nx-left-0 rtl:nx-pr-3 rtl:before:nx-right-0 ltr:nx-ml-3 rtl:nx-mr-3"><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/docs-argocd-setup-at-eks/3-etc/3.1">주요 공식자료들</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/docs-argocd-setup-at-eks/3-etc/3.2">(트러블슈팅) Cloud9 에서 AWS Credential 이 자주 Refresh 되는 이슈</a></li></ul></div></div></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/docs-argocd-setup-at-eks/">Introduction</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/docs-argocd-setup-at-eks/another/">Another Page</a></li><li class="open"><a class="nx-items-center nx-justify-between nx-gap-2 nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/docs-argocd-setup-at-eks/advanced/">Advanced (A Folder)<svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="nx-h-[18px] nx-min-w-[18px] nx-rounded-sm nx-p-0.5 hover:nx-bg-gray-800/5 dark:hover:nx-bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="nx-origin-center nx-transition-transform rtl:-nx-rotate-180 ltr:nx-rotate-90 rtl:nx-rotate-[-270deg]"></path></svg></a><div class="nx-transform-gpu nx-overflow-hidden nx-transition-all nx-ease-in-out motion-reduce:nx-transition-none"><div class="nx-transition-opacity nx-duration-500 nx-ease-in-out motion-reduce:nx-transition-none nx-opacity-100 ltr:nx-pr-0 rtl:nx-pl-0 nx-pt-1"><ul class="nx-flex nx-flex-col nx-gap-1 nx-relative before:nx-absolute before:nx-inset-y-1 before:nx-w-px before:nx-bg-gray-200 before:nx-content-[&quot;&quot;] dark:before:nx-bg-neutral-800 ltr:nx-pl-3 ltr:before:nx-left-0 rtl:nx-pr-3 rtl:before:nx-right-0 ltr:nx-ml-3 rtl:nx-mr-3"><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/docs-argocd-setup-at-eks/advanced/satori/">Satori</a></li></ul></div></div></li></ul></div></div></div><div class="nx-sticky nx-bottom-0 nx-bg-white dark:nx-bg-dark nx-mx-4 nx-py-4 nx-shadow-[0_-12px_16px_#fff] nx-flex nx-items-center nx-gap-2 dark:nx-border-neutral-800 dark:nx-shadow-[0_-12px_16px_#111] contrast-more:nx-border-neutral-400 contrast-more:nx-shadow-none contrast-more:dark:nx-shadow-none nx-border-t" data-toggle-animation="off"><div class="nx-grow nx-flex nx-flex-col"><button title="Change theme" class="nx-h-7 nx-rounded-md nx-px-2 nx-text-left nx-text-xs nx-font-medium nx-text-gray-600 nx-transition-colors dark:nx-text-gray-400 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50" id="headlessui-listbox-button-:Rlsr6:" type="button" aria-haspopup="listbox" aria-expanded="false" data-headlessui-state=""><div class="nx-flex nx-items-center nx-gap-2 nx-capitalize"><svg fill="none" viewBox="3 3 18 18" width="12" height="12" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" fill="currentColor" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg><span class="">Light</span></div></button></div></div></aside><nav class="nextra-toc nx-order-last nx-hidden nx-w-64 nx-shrink-0 xl:nx-block print:nx-hidden nx-px-4" aria-label="table of contents"><div class="nextra-scrollbar nx-sticky nx-top-16 nx-overflow-y-auto nx-pr-4 nx-pt-6 nx-text-sm [hyphens:auto] nx-max-h-[calc(100vh-var(--nextra-navbar-height)-env(safe-area-inset-bottom))] ltr:-nx-mr-4 rtl:-nx-ml-4"><p class="nx-mb-4 nx-font-semibold nx-tracking-tight">On This Page</p><ul><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#2-argocd-구축-2-argocd-에-http-허용" class="nx-font-semibold nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">2. ArgoCD 구축 (2) ArgoCD 에 HTTP 허용</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#argocd-deployment-내의-args에---insecure-옵션-추가-후-재배포" class="ltr:nx-pl-4 rtl:nx-pr-4 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">ArgoCD Deployment 내의 args에 --insecure 옵션 추가 후 재배포</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#worker-node-들이-속한-security-rule-수정" class="ltr:nx-pl-4 rtl:nx-pr-4 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Worker Node 들이 속한 Security Rule 수정</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#80-포트-nodeport-생성-serviceyml-작성--apply" class="ltr:nx-pl-4 rtl:nx-pr-4 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">80 포트 nodeport 생성 (service.yml 작성 → apply)</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#80-포트-rule-이-적용된-security-rule-id-를-명시한-ingress-생성-ingressyml-작성--apply" class="ltr:nx-pl-4 rtl:nx-pr-4 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">80 포트 Rule 이 적용된 Security Rule ID 를 명시한 Ingress 생성 (ingress.yml 작성 → apply)</a></li></ul><div class="nx-mt-8 nx-border-t nx-bg-white nx-pt-8 nx-shadow-[0_-12px_16px_white] dark:nx-bg-dark dark:nx-shadow-[0_-12px_16px_#111] nx-sticky nx-bottom-0 nx-flex nx-flex-col nx-items-start nx-gap-2 nx-pb-8 dark:nx-border-neutral-800 contrast-more:nx-border-t contrast-more:nx-border-neutral-400 contrast-more:nx-shadow-none contrast-more:dark:nx-border-neutral-400"><a href="https://github.com/chagchagchag/docs-argocd-setup-at-eks/issues/new?title=Feedback%20for%20%E2%80%9C2.2%E2%80%9D&amp;labels=feedback" target="_blank" rel="noreferrer" class="nx-text-xs nx-font-medium nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-100 contrast-more:nx-text-gray-800 contrast-more:dark:nx-text-gray-50">Question? Give us feedback →<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a><a class="nx-text-xs nx-font-medium nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-100 contrast-more:nx-text-gray-800 contrast-more:dark:nx-text-gray-50" href="https://github.com/chagchagchag/docs-argocd-setup-at-eks/pages/2-setup-argocd/2.2.mdx">Edit this page</a></div></div></nav><div id="reach-skip-nav"></div><article class="nx-w-full nx-break-words nextra-content nx-flex nx-min-h-[calc(100vh-var(--nextra-navbar-height))] nx-min-w-0 nx-justify-center nx-pb-8 nx-pr-[calc(env(safe-area-inset-right)-1.5rem)]"><main class="nx-w-full nx-min-w-0 nx-max-w-6xl nx-px-6 nx-pt-4 md:nx-px-12"><div class="nextra-breadcrumb nx-mt-1.5 nx-flex nx-items-center nx-gap-1 nx-overflow-hidden nx-text-sm nx-text-gray-500 dark:nx-text-gray-400 contrast-more:nx-text-current"><div class="nx-whitespace-nowrap nx-transition-colors nx-min-w-[24px] nx-overflow-hidden nx-text-ellipsis" title="EKS 내에 ArgoCD 구축">EKS 내에 ArgoCD 구축</div><svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="nx-w-3.5 nx-shrink-0"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg><div class="nx-whitespace-nowrap nx-transition-colors nx-font-medium nx-text-gray-700 contrast-more:nx-font-bold contrast-more:nx-text-current dark:nx-text-gray-100 contrast-more:dark:nx-text-current" title="2. ArgoCD 구축 (2) ArgoCD 에 HTTP 허용">2. ArgoCD 구축 (2) ArgoCD 에 HTTP 허용</div></div><h2 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-10 nx-border-b nx-pb-1 nx-text-3xl nx-border-neutral-200/70 contrast-more:nx-border-neutral-400 dark:nx-border-primary-100/10 contrast-more:dark:nx-border-neutral-400">2. ArgoCD 구축 (2) ArgoCD 에 HTTP 허용<a href="#2-argocd-구축-2-argocd-에-http-허용" id="2-argocd-구축-2-argocd-에-http-허용" class="subheading-anchor" aria-label="Permalink for this section"></a></h2>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Security Rule 수정</li>
<li class="nx-my-2">80 포트 nodeport 생성 (service.yml 작성 → apply)</li>
<li class="nx-my-2">80 포트 Rule 이 적용된 Security Rule Id를 명시한 ingress 생성 (ingress.yml 작성 → apply)</li>
</ul>
<br/>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">argocd-server 파드의 경우 기본적으로 HTTP 요청 수신 시에는 HTTPS로 Redirect 되게끔 설정되어 있다. 현재 실습에서는 ArgoCD 서버에 80 포트를 허용하는 실습으로 진행하기로 했다. HTTPS 를 허용하려면 인증서를 발급받아야 하는데, 인프라 레벨에서 인증서를 등록하려면 비용문제도 있고, 개발 스터디 버전으로 인증서를 발급받아서 사용할 필요 까지는 없기 때문.<br/>
혹시 만약 https 를 허용하려면 ALB가 AWS ACM 을 통해 SSL 인증서 동작을 처리하고 백엔드 애플리케이션으로는 HTTP 트래픽을 전달하게끔 해주면 된다.<br/></p>
<br/>
<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">ArgoCD Deployment 내의 args에 --insecure 옵션 추가 후 재배포<a href="#argocd-deployment-내의-args에---insecure-옵션-추가-후-재배포" id="argocd-deployment-내의-args에---insecure-옵션-추가-후-재배포" class="subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">deployment 중 <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">argocd-server</code> 에 대해 아래의 JSON 옵션을 적용해서 patch 해준다.<br/>
그리고 deployment 를 통해 배포된 pod 들이 실제로 재배포 되었는지 <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">AGE</code> 를 통해 체크한다.</p>
<div class="nextra-code-block nx-relative nx-mt-6 first:nx-mt-0"><div class="nx-absolute nx-top-0 nx-z-[1] nx-w-full nx-truncate nx-rounded-t-xl nx-bg-primary-700/5 nx-py-2 nx-px-4 nx-text-xs nx-text-gray-700 dark:nx-bg-primary-300/10 dark:nx-text-gray-200">json</div><pre class="nx-bg-primary-700/5 nx-mb-4 nx-overflow-x-auto nx-rounded-xl nx-subpixel-antialiased dark:nx-bg-primary-300/10 nx-text-[.9em] contrast-more:nx-border contrast-more:nx-border-primary-900/20 contrast-more:nx-contrast-150 contrast-more:dark:nx-border-primary-100/40 nx-pt-12 nx-pb-4" data-language="JSON" data-theme="default"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr" data-language="JSON" data-theme="default"><span class="line"><span style="color:var(--shiki-color-text)">[</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  {</span></span>
<span class="line highlighted"><span style="color:var(--shiki-color-text)">    &quot;op&quot;: &quot;replace&quot;,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    &quot;path&quot;: &quot;/spec/template/spec/containers/0/args&quot;,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    &quot;value&quot;: [&quot;/usr/local/bin/argocd-server&quot;, &quot;--insecure&quot;]</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  }</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">]</span></span></code></pre><div class="nx-opacity-0 nx-transition [div:hover&gt;&amp;]:nx-opacity-100 focus-within:nx-opacity-100 nx-flex nx-gap-1 nx-absolute nx-m-[11px] nx-right-0 nx-top-8"><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50 md:nx-hidden" title="Toggle word wrap"><svg viewBox="0 0 24 24" width="24" height="24" class="nx-pointer-events-none nx-h-4 nx-w-4"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50" title="Copy code" tabindex="0"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" class="nextra-copy-icon nx-pointer-events-none nx-h-4 nx-w-4"><rect x="9" y="9" width="13" height="13" rx="2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></rect><path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div></div>
<br/>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">위의 JSON 은 <a href="https://jsoneditoronline.org/#left=local.qovuca&amp;right=local.zelepe" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">jsoneditoronline.org<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a> 을 이용해서 인라인 문자열로 변환해서 CLI 명령에 인자값으로 전달해줬다.</p>
<br/>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">실제 실습과정은 아래와 같다.</p>
<div class="nextra-code-block nx-relative nx-mt-6 first:nx-mt-0"><div class="nx-absolute nx-top-0 nx-z-[1] nx-w-full nx-truncate nx-rounded-t-xl nx-bg-primary-700/5 nx-py-2 nx-px-4 nx-text-xs nx-text-gray-700 dark:nx-bg-primary-300/10 dark:nx-text-gray-200">bash</div><pre class="nx-bg-primary-700/5 nx-mb-4 nx-overflow-x-auto nx-rounded-xl nx-subpixel-antialiased dark:nx-bg-primary-300/10 nx-text-[.9em] contrast-more:nx-border contrast-more:nx-border-primary-900/20 contrast-more:nx-contrast-150 contrast-more:dark:nx-border-primary-100/40 nx-pt-12 nx-pb-4" data-language="bash" data-theme="default"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr" data-language="bash" data-theme="default"><span class="line"><span style="color:var(--shiki-token-comment)">## 네임스페이스 &#x27;argocd&#x27; 내에 deployment 가 어떤 것들이 있는지 조회</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">$</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">kubectl</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">get</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">deployment</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">-n</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">argocd</span></span>
<span class="line highlighted"><span style="color:var(--shiki-token-function)">NAME</span><span style="color:var(--shiki-color-text)">                               </span><span style="color:var(--shiki-token-string)">READY</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-string)">UP-TO-DATE</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-string)">AVAILABLE</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-string)">AGE</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-applicationset-controller</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-string)">/1</span><span style="color:var(--shiki-color-text)">     </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-color-text)">           </span><span style="color:var(--shiki-token-constant)">62</span><span style="color:var(--shiki-token-string)">m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-dex-server</span><span style="color:var(--shiki-color-text)">                  </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-string)">/1</span><span style="color:var(--shiki-color-text)">     </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-color-text)">           </span><span style="color:var(--shiki-token-constant)">62</span><span style="color:var(--shiki-token-string)">m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-notifications-controller</span><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-string)">/1</span><span style="color:var(--shiki-color-text)">     </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-color-text)">           </span><span style="color:var(--shiki-token-constant)">62</span><span style="color:var(--shiki-token-string)">m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-redis</span><span style="color:var(--shiki-color-text)">                       </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-string)">/1</span><span style="color:var(--shiki-color-text)">     </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-color-text)">           </span><span style="color:var(--shiki-token-constant)">62</span><span style="color:var(--shiki-token-string)">m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-repo-server</span><span style="color:var(--shiki-color-text)">                 </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-string)">/1</span><span style="color:var(--shiki-color-text)">     </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-color-text)">           </span><span style="color:var(--shiki-token-constant)">62</span><span style="color:var(--shiki-token-string)">m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-server</span><span style="color:var(--shiki-color-text)">                      </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-string)">/1</span><span style="color:var(--shiki-color-text)">     </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-color-text)">           </span><span style="color:var(--shiki-token-constant)">62</span><span style="color:var(--shiki-token-string)">m</span></span>
<span class="line"> </span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">## --insecure 옵션을 붙여서 argocd-server deployment 를 patch 하기</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">$</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">kubectl</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">-n</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">argocd</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">patch</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">deployment</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">argocd-server</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">--type</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">json</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">-p=</span><span style="color:var(--shiki-token-string-expression)">&#x27;[{&quot;op&quot;:&quot;replace&quot;,&quot;path&quot;:&quot;/spec/template/spec/containers/0/args&quot;,&quot;value&quot;:[&quot;/usr/local/bin/argocd-server&quot;,&quot;--insecure&quot;]}]&#x27;</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">deployment.apps/argocd-server</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">patched</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">## 실제로 pod 이 재배포 되었는지 확인</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">## 37초 전에 재배포 되었음을 확인 가능 </span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">## (이 글을 쓸때 잠깐 다른 것을 하다가 아래 명령을 내려서 37초 전이라고 표시되었다.)</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-function)">$</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">kubectl</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">get</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">po</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">-n</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">argocd</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">NAME</span><span style="color:var(--shiki-color-text)">                                               </span><span style="color:var(--shiki-token-string)">READY</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-string)">STATUS</span><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-string)">RESTARTS</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-string)">AGE</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-application-controller-0</span><span style="color:var(--shiki-color-text)">                    </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-string)">/1</span><span style="color:var(--shiki-color-text)">     </span><span style="color:var(--shiki-token-string)">Running</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-color-text)">          </span><span style="color:var(--shiki-token-constant)">70</span><span style="color:var(--shiki-token-string)">m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-applicationset-controller-dc5c4c965-qrz7m</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-string)">/1</span><span style="color:var(--shiki-color-text)">     </span><span style="color:var(--shiki-token-string)">Running</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-color-text)">          </span><span style="color:var(--shiki-token-constant)">70</span><span style="color:var(--shiki-token-string)">m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-dex-server-9769d6499-tl5jd</span><span style="color:var(--shiki-color-text)">                  </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-string)">/1</span><span style="color:var(--shiki-color-text)">     </span><span style="color:var(--shiki-token-string)">Running</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-color-text)">          </span><span style="color:var(--shiki-token-constant)">70</span><span style="color:var(--shiki-token-string)">m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-notifications-controller-db4f975f8-dhcqj</span><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-string)">/1</span><span style="color:var(--shiki-color-text)">     </span><span style="color:var(--shiki-token-string)">Running</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-color-text)">          </span><span style="color:var(--shiki-token-constant)">70</span><span style="color:var(--shiki-token-string)">m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-redis-b5d6bf5f5-d75xc</span><span style="color:var(--shiki-color-text)">                       </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-string)">/1</span><span style="color:var(--shiki-color-text)">     </span><span style="color:var(--shiki-token-string)">Running</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-color-text)">          </span><span style="color:var(--shiki-token-constant)">70</span><span style="color:var(--shiki-token-string)">m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-repo-server-579cdc7849-6htrl</span><span style="color:var(--shiki-color-text)">                </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-string)">/1</span><span style="color:var(--shiki-color-text)">     </span><span style="color:var(--shiki-token-string)">Running</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-color-text)">          </span><span style="color:var(--shiki-token-constant)">70</span><span style="color:var(--shiki-token-string)">m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-server-5b59f8cc5c-pnd9q</span><span style="color:var(--shiki-color-text)">                     </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-string)">/1</span><span style="color:var(--shiki-color-text)">     </span><span style="color:var(--shiki-token-string)">Running</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-color-text)">          </span><span style="color:var(--shiki-token-constant)">37</span><span style="color:var(--shiki-token-string)">s</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">## 배포된 deployment 인 &#x27;argocd-server&#x27; 의 실제 옵션을 확인해본다.</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">$</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">kubectl</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">-n</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">argocd</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">describe</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">deployment</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">argocd-server</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">## 또는 단축어인 deploy 라는 리소스명으로 확인하는 것 역시 가능하다.</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">$</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">kubectl</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">-n</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">argocd</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">describe</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">deploy</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">argocd-server</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-function)">Name:</span><span style="color:var(--shiki-color-text)">                   </span><span style="color:var(--shiki-token-string)">argocd-server</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">Namespace:</span><span style="color:var(--shiki-color-text)">              </span><span style="color:var(--shiki-token-string)">argocd</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">CreationTimestamp:</span><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-string)">Mon,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">25</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">Dec</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">2023</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">04</span><span style="color:var(--shiki-token-string)">:18:06</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">+0000</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">Labels:</span><span style="color:var(--shiki-color-text)">                 </span><span style="color:var(--shiki-token-string)">app.kubernetes.io/component=server</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">                        </span><span style="color:var(--shiki-token-function)">app.kubernetes.io/name</span><span style="color:var(--shiki-color-text)">=argocd-server</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">                        </span><span style="color:var(--shiki-token-function)">app.kubernetes.io/part-of</span><span style="color:var(--shiki-color-text)">=argocd</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">Annotations:</span><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-string)">deployment.kubernetes.io/revision:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">2</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">Selector:</span><span style="color:var(--shiki-color-text)">               </span><span style="color:var(--shiki-token-string)">app.kubernetes.io/name=argocd-server</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">Replicas:</span><span style="color:var(--shiki-color-text)">               </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">desired</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">|</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">1</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">updated</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">|</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">1</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">total</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">|</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">1</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">available</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">|</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">0</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">unavailable</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">StrategyType:</span><span style="color:var(--shiki-color-text)">           </span><span style="color:var(--shiki-token-string)">RollingUpdate</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">MinReadySeconds:</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">0</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">RollingUpdateStrategy:</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-constant)">25</span><span style="color:var(--shiki-token-string)">%</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">max</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">unavailable,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">25</span><span style="color:var(--shiki-token-string)">%</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">max</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">surge</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">Pod</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">Template:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">Labels:</span><span style="color:var(--shiki-color-text)">           </span><span style="color:var(--shiki-token-string)">app.kubernetes.io/name=argocd-server</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">Service</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">Account:</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-string)">argocd-server</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">Containers:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-function)">argocd-server:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">Image:</span><span style="color:var(--shiki-color-text)">           </span><span style="color:var(--shiki-token-string)">quay.io/argoproj/argocd:v2.9.3</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">Ports:</span><span style="color:var(--shiki-color-text)">           </span><span style="color:var(--shiki-token-constant)">8080</span><span style="color:var(--shiki-token-string)">/TCP,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">8083</span><span style="color:var(--shiki-token-string)">/TCP</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">Host</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">Ports:</span><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-string)">/TCP,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-token-string)">/TCP</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">SeccompProfile:</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-string)">RuntimeDefault</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">Args:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">/usr/local/bin/argocd-server</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">			</span><span style="color:var(--shiki-token-comment)">## 실제로 이 부분을 보면 --insecure 가 적용되었음을 확인 가능하다.</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">--insecure</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">Liveness:</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-string)">http-get</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">http://:8080/healthz%3Ffull=</span><span style="color:var(--shiki-token-constant)">true</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">delay=</span><span style="color:var(--shiki-token-constant)">3</span><span style="color:var(--shiki-token-string)">s</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">timeout=</span><span style="color:var(--shiki-token-constant)">5</span><span style="color:var(--shiki-token-string)">s</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">period=</span><span style="color:var(--shiki-token-constant)">30</span><span style="color:var(--shiki-token-string)">s</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-comment)">#success=1 #failure=3</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">Readiness:</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-string)">http-get</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">http://:8080/healthz</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">delay=</span><span style="color:var(--shiki-token-constant)">3</span><span style="color:var(--shiki-token-string)">s</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">timeout=</span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-token-string)">s</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">period=</span><span style="color:var(--shiki-token-constant)">30</span><span style="color:var(--shiki-token-string)">s</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-comment)">#success=1 #failure=3</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">Environment:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_SERVER_INSECURE:</span><span style="color:var(--shiki-color-text)">                            </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;server.insecure&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">                            </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_SERVER_BASEHREF:</span><span style="color:var(--shiki-color-text)">                            </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;server.basehref&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">                            </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_SERVER_ROOTPATH:</span><span style="color:var(--shiki-color-text)">                            </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;server.rootpath&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">                            </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_SERVER_LOGFORMAT:</span><span style="color:var(--shiki-color-text)">                           </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;server.log.format&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">                          </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_SERVER_LOG_LEVEL:</span><span style="color:var(--shiki-color-text)">                           </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;server.log.level&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">                           </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_SERVER_REPO_SERVER:</span><span style="color:var(--shiki-color-text)">                         </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;repo.server&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">                                </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_SERVER_DEX_SERVER:</span><span style="color:var(--shiki-color-text)">                          </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;server.dex.server&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">                          </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_SERVER_DISABLE_AUTH:</span><span style="color:var(--shiki-color-text)">                        </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;server.disable.auth&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">                        </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_SERVER_ENABLE_GZIP:</span><span style="color:var(--shiki-color-text)">                         </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;server.enable.gzip&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">                         </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_SERVER_REPO_SERVER_TIMEOUT_SECONDS:</span><span style="color:var(--shiki-color-text)">         </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;server.repo.server.timeout.seconds&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">         </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_SERVER_X_FRAME_OPTIONS:</span><span style="color:var(--shiki-color-text)">                     </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;server.x.frame.options&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">                     </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_SERVER_CONTENT_SECURITY_POLICY:</span><span style="color:var(--shiki-color-text)">             </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;server.content.security.policy&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">             </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_SERVER_REPO_SERVER_PLAINTEXT:</span><span style="color:var(--shiki-color-text)">               </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;server.repo.server.plaintext&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">               </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_SERVER_REPO_SERVER_STRICT_TLS:</span><span style="color:var(--shiki-color-text)">              </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;server.repo.server.strict.tls&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">              </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_SERVER_DEX_SERVER_PLAINTEXT:</span><span style="color:var(--shiki-color-text)">                </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;server.dex.server.plaintext&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">                </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_SERVER_DEX_SERVER_STRICT_TLS:</span><span style="color:var(--shiki-color-text)">               </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;server.dex.server.strict.tls&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">               </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_TLS_MIN_VERSION:</span><span style="color:var(--shiki-color-text)">                            </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;server.tls.minversion&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">                      </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_TLS_MAX_VERSION:</span><span style="color:var(--shiki-color-text)">                            </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;server.tls.maxversion&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">                      </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_TLS_CIPHERS:</span><span style="color:var(--shiki-color-text)">                                </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;server.tls.ciphers&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">                         </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_SERVER_CONNECTION_STATUS_CACHE_EXPIRATION:</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;server.connection.status.cache.expiration&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_SERVER_OIDC_CACHE_EXPIRATION:</span><span style="color:var(--shiki-color-text)">               </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;server.oidc.cache.expiration&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">               </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_SERVER_LOGIN_ATTEMPTS_EXPIRATION:</span><span style="color:var(--shiki-color-text)">           </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;server.login.attempts.expiration&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">           </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_SERVER_STATIC_ASSETS:</span><span style="color:var(--shiki-color-text)">                       </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;server.staticassets&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">                        </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_APP_STATE_CACHE_EXPIRATION:</span><span style="color:var(--shiki-color-text)">                 </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;server.app.state.cache.expiration&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">          </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">REDIS_SERVER:</span><span style="color:var(--shiki-color-text)">                                      </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;redis.server&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">                               </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">REDIS_COMPRESSION:</span><span style="color:var(--shiki-color-text)">                                 </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;redis.compression&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">                          </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">REDISDB:</span><span style="color:var(--shiki-color-text)">                                           </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;redis.db&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">                                   </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_DEFAULT_CACHE_EXPIRATION:</span><span style="color:var(--shiki-color-text)">                   </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;server.default.cache.expiration&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_MAX_COOKIE_NUMBER:</span><span style="color:var(--shiki-color-text)">                          </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;server.http.cookie.maxnumber&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">               </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_SERVER_LISTEN_ADDRESS:</span><span style="color:var(--shiki-color-text)">                      </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;server.listen.address&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">                      </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_SERVER_METRICS_LISTEN_ADDRESS:</span><span style="color:var(--shiki-color-text)">              </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;server.metrics.listen.address&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">              </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_SERVER_OTLP_ADDRESS:</span><span style="color:var(--shiki-color-text)">                        </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;otlp.address&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">                               </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_APPLICATION_NAMESPACES:</span><span style="color:var(--shiki-color-text)">                     </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;application.namespaces&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">                     </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">ARGOCD_SERVER_ENABLE_PROXY_EXTENSION:</span><span style="color:var(--shiki-color-text)">              </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">set</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">to</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">the</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">key</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;server.enable.proxy.extension&#x27;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">of</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">config</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">map</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;argocd-cmd-params-cm&#x27;</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">              </span><span style="color:var(--shiki-token-string)">Optional:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">Mounts:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">/app/config/dex/tls</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">from</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">argocd-dex-server-tls</span><span style="color:var(--shiki-color-text)"> (rw)</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">/app/config/server/tls</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">from</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">argocd-repo-server-tls</span><span style="color:var(--shiki-color-text)"> (rw)</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">/app/config/ssh</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">from</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">ssh-known-hosts</span><span style="color:var(--shiki-color-text)"> (rw)</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">/app/config/tls</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">from</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">tls-certs</span><span style="color:var(--shiki-color-text)"> (rw)</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">/home/argocd</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">from</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">plugins-home</span><span style="color:var(--shiki-color-text)"> (rw)</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">/tmp</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">from</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">tmp</span><span style="color:var(--shiki-color-text)"> (rw)</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">Volumes:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-function)">plugins-home:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">Type:</span><span style="color:var(--shiki-color-text)">       </span><span style="color:var(--shiki-token-string)">EmptyDir</span><span style="color:var(--shiki-color-text)"> (a </span><span style="color:var(--shiki-token-string)">temporary</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">directory</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">that</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">shares</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">a</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">pod</span><span style="color:var(--shiki-token-string-expression)">&#x27;s lifetime)</span></span>
<span class="line"><span style="color:var(--shiki-token-string-expression)">    Medium:     </span></span>
<span class="line"><span style="color:var(--shiki-token-string-expression)">    SizeLimit:  &lt;unset&gt;</span></span>
<span class="line"><span style="color:var(--shiki-token-string-expression)">   tmp:</span></span>
<span class="line"><span style="color:var(--shiki-token-string-expression)">    Type:       EmptyDir (a temporary directory that shares a pod&#x27;</span><span style="color:var(--shiki-token-string)">s</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">lifetime</span><span style="color:var(--shiki-color-text)">)</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">Medium:</span><span style="color:var(--shiki-color-text)">     </span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">SizeLimit:</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">unse</span><span style="color:var(--shiki-color-text)">t</span><span style="color:var(--shiki-token-keyword)">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-function)">ssh-known-hosts:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">Type:</span><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-string)">ConfigMap</span><span style="color:var(--shiki-color-text)"> (a </span><span style="color:var(--shiki-token-string)">volume</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">populated</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">by</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">a</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">ConfigMap</span><span style="color:var(--shiki-color-text)">)</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">Name:</span><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-string)">argocd-ssh-known-hosts-cm</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">Optional:</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-constant)">false</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-function)">tls-certs:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">Type:</span><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-string)">ConfigMap</span><span style="color:var(--shiki-color-text)"> (a </span><span style="color:var(--shiki-token-string)">volume</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">populated</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">by</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">a</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">ConfigMap</span><span style="color:var(--shiki-color-text)">)</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">Name:</span><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-string)">argocd-tls-certs-cm</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">Optional:</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-constant)">false</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-function)">argocd-repo-server-tls:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">Type:</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-string)">Secret</span><span style="color:var(--shiki-color-text)"> (a </span><span style="color:var(--shiki-token-string)">volume</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">populated</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">by</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">a</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">Secret</span><span style="color:var(--shiki-color-text)">)</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">SecretName:</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-string)">argocd-repo-server-tls</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">Optional:</span><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-function)">argocd-dex-server-tls:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">Type:</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-string)">Secret</span><span style="color:var(--shiki-color-text)"> (a </span><span style="color:var(--shiki-token-string)">volume</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">populated</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">by</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">a</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">Secret</span><span style="color:var(--shiki-color-text)">)</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">SecretName:</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-string)">argocd-dex-server-tls</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">Optional:</span><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-constant)">true</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">Conditions:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">Type</span><span style="color:var(--shiki-color-text)">           </span><span style="color:var(--shiki-token-string)">Status</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-string)">Reason</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">----</span><span style="color:var(--shiki-color-text)">           </span><span style="color:var(--shiki-token-string)">------</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-string)">------</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">Available</span><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-string)">True</span><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-string)">MinimumReplicasAvailable</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">Progressing</span><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-string)">True</span><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-string)">NewReplicaSetAvailable</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">OldReplicaSets:</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-string)">argocd-server-557c4c6dff</span><span style="color:var(--shiki-color-text)"> (0/0 </span><span style="color:var(--shiki-token-string)">replicas</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">created</span><span style="color:var(--shiki-color-text)">)</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">NewReplicaSet:</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-string)">argocd-server-5b59f8cc5c</span><span style="color:var(--shiki-color-text)"> (1/1 </span><span style="color:var(--shiki-token-string)">replicas</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">created</span><span style="color:var(--shiki-color-text)">)</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">Events:</span><span style="color:var(--shiki-color-text)">          </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">non</span><span style="color:var(--shiki-color-text)">e</span><span style="color:var(--shiki-token-keyword)">&gt;</span></span></code></pre><div class="nx-opacity-0 nx-transition [div:hover&gt;&amp;]:nx-opacity-100 focus-within:nx-opacity-100 nx-flex nx-gap-1 nx-absolute nx-m-[11px] nx-right-0 nx-top-8"><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50 md:nx-hidden" title="Toggle word wrap"><svg viewBox="0 0 24 24" width="24" height="24" class="nx-pointer-events-none nx-h-4 nx-w-4"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50" title="Copy code" tabindex="0"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" class="nextra-copy-icon nx-pointer-events-none nx-h-4 nx-w-4"><rect x="9" y="9" width="13" height="13" rx="2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></rect><path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div></div>
<br/>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">참고) 커맨드라인에 JSON 데이터를 인라인 문자열로 변환할 때 유용한 도구</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">JSON 데이터를 인라인 문자열로 변환할 때 사용한 도구는 <a href="https://jsoneditoronline.org/#left=local.qovuca&amp;right=local.zelepe" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">jsoneditoronline.org<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a> 이다.</p>
<br/>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><img src="https://raw.githubusercontent.com/chagchagchag/docs-argocd-setup-at-eks/main/pages/2-setup-argocd/img/2.2-ENABLE-HTTP-RULE-AT-ARGOCD/1.png" alt=""/></p>
<br/>
<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">Worker Node 들이 속한 Security Rule 수정<a href="#worker-node-들이-속한-security-rule-수정" id="worker-node-들이-속한-security-rule-수정" class="subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">EC2 대시보드로 이동한다. 그리고 EC2 들 중에서 eksctl 에 의해 생성된 node 들 중 하나의 체크박스를 클릭해서 세부 사항을 확인한다. 워커 노드들은 모두 같은 id 의 보안그룹(Security Group) 을 사용하고 있는 것을 확인 가능하다. 이 보안 그룹을 클릭해서 보안그룹 페이지로 넘어간다.
<img src="https://raw.githubusercontent.com/chagchagchag/docs-argocd-setup-at-eks/main/pages/2-setup-argocd/img/2.2-ENABLE-HTTP-RULE-AT-ARGOCD/2.png" alt=""/></p>
<br/>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">보안그룹 페이지에서는 인바운드 규칙 편집 버튼을 클릭해서 인바운드 규칙 편집 페이지로 이동한다.
<img src="https://raw.githubusercontent.com/chagchagchag/docs-argocd-setup-at-eks/main/pages/2-setup-argocd/img/2.2-ENABLE-HTTP-RULE-AT-ARGOCD/3.png" alt=""/></p>
<br/>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">인바운드 규칙 편집 페이지에서는 8080 포트에 대해 모든 트래픽을 허용하게끔 한다.
<img src="https://raw.githubusercontent.com/chagchagchag/docs-argocd-setup-at-eks/main/pages/2-setup-argocd/img/2.2-ENABLE-HTTP-RULE-AT-ARGOCD/4.png" alt=""/>
규칙 저장 버튼을 클릭해 규칙을 저장한다.<br/></p>
<br/>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">저장된 인바운드 규칙은 아래와 같이 확인 가능하다.
<img src="https://raw.githubusercontent.com/chagchagchag/docs-argocd-setup-at-eks/main/pages/2-setup-argocd/img/2.2-ENABLE-HTTP-RULE-AT-ARGOCD/5.png" alt=""/></p>
<br/>
<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">80 포트 nodeport 생성 (service.yml 작성 → apply)<a href="#80-포트-nodeport-생성-serviceyml-작성--apply" id="80-포트-nodeport-생성-serviceyml-작성--apply" class="subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">argoCD에 대해 80 포트를 통해 접속을 허용하는 서비스를 정의해야 한다. 서비스(Service)란 deployment 를 통해 배포되어 있는 pod 들을 외부와 통신이 가능하도록 할 때 어떤 방식으로 노출해야 하는가를 정의하는 kubernetes 의 리소스를 의미한다.<br/>
서비스(Service) 에는 대표적으로 Ingress, Nodeport 등이 있다.<br/>
ArgoCD 설치를 통해 이미 운영중인 argocd 의 service 들은 무엇들이 있는지 확인해보자.<br/></p>
<br/>
<div class="nextra-code-block nx-relative nx-mt-6 first:nx-mt-0"><div class="nx-absolute nx-top-0 nx-z-[1] nx-w-full nx-truncate nx-rounded-t-xl nx-bg-primary-700/5 nx-py-2 nx-px-4 nx-text-xs nx-text-gray-700 dark:nx-bg-primary-300/10 dark:nx-text-gray-200">bash</div><pre class="nx-bg-primary-700/5 nx-mb-4 nx-overflow-x-auto nx-rounded-xl nx-subpixel-antialiased dark:nx-bg-primary-300/10 nx-text-[.9em] contrast-more:nx-border contrast-more:nx-border-primary-900/20 contrast-more:nx-contrast-150 contrast-more:dark:nx-border-primary-100/40 nx-pt-12 nx-pb-4" data-language="bash" data-theme="default"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr" data-language="bash" data-theme="default"><span class="line"><span style="color:var(--shiki-token-function)">$</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">kubectl</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">-n</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">argocd</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">get</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">service</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">NAME</span><span style="color:var(--shiki-color-text)">                                      </span><span style="color:var(--shiki-token-string)">TYPE</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-string)">CLUSTER-IP</span><span style="color:var(--shiki-color-text)">       </span><span style="color:var(--shiki-token-string)">EXTERNAL-IP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-string)">PORT</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-function)">S</span><span style="color:var(--shiki-color-text)">)                      </span><span style="color:var(--shiki-token-string)">AGE</span></span>
<span class="line highlighted"><span style="color:var(--shiki-token-function)">argocd-applicationset-controller</span><span style="color:var(--shiki-color-text)">          </span><span style="color:var(--shiki-token-string)">ClusterIP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">10.100</span><span style="color:var(--shiki-token-string)">.117.173</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">non</span><span style="color:var(--shiki-color-text)">e</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">7000</span><span style="color:var(--shiki-token-string)">/TCP,8080/TCP</span><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-constant)">175</span><span style="color:var(--shiki-token-string)">m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-dex-server</span><span style="color:var(--shiki-color-text)">                         </span><span style="color:var(--shiki-token-string)">ClusterIP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">10.100</span><span style="color:var(--shiki-token-string)">.105.200</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">non</span><span style="color:var(--shiki-color-text)">e</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">5556</span><span style="color:var(--shiki-token-string)">/TCP,5557/TCP,5558/TCP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">175</span><span style="color:var(--shiki-token-string)">m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-metrics</span><span style="color:var(--shiki-color-text)">                            </span><span style="color:var(--shiki-token-string)">ClusterIP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">10.100</span><span style="color:var(--shiki-token-string)">.159.217</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">non</span><span style="color:var(--shiki-color-text)">e</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">8082</span><span style="color:var(--shiki-token-string)">/TCP</span><span style="color:var(--shiki-color-text)">                     </span><span style="color:var(--shiki-token-constant)">175</span><span style="color:var(--shiki-token-string)">m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-notifications-controller-metrics</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-string)">ClusterIP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">10.100</span><span style="color:var(--shiki-token-string)">.149.169</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">non</span><span style="color:var(--shiki-color-text)">e</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">9001</span><span style="color:var(--shiki-token-string)">/TCP</span><span style="color:var(--shiki-color-text)">                     </span><span style="color:var(--shiki-token-constant)">175</span><span style="color:var(--shiki-token-string)">m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-redis</span><span style="color:var(--shiki-color-text)">                              </span><span style="color:var(--shiki-token-string)">ClusterIP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">10.100</span><span style="color:var(--shiki-token-string)">.170.48</span><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">non</span><span style="color:var(--shiki-color-text)">e</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">6379</span><span style="color:var(--shiki-token-string)">/TCP</span><span style="color:var(--shiki-color-text)">                     </span><span style="color:var(--shiki-token-constant)">175</span><span style="color:var(--shiki-token-string)">m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-repo-server</span><span style="color:var(--shiki-color-text)">                        </span><span style="color:var(--shiki-token-string)">ClusterIP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">10.100</span><span style="color:var(--shiki-token-string)">.139.2</span><span style="color:var(--shiki-color-text)">     </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">non</span><span style="color:var(--shiki-color-text)">e</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">8081</span><span style="color:var(--shiki-token-string)">/TCP,8084/TCP</span><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-constant)">175</span><span style="color:var(--shiki-token-string)">m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-server</span><span style="color:var(--shiki-color-text)">                             </span><span style="color:var(--shiki-token-string)">ClusterIP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">10.100</span><span style="color:var(--shiki-token-string)">.96.73</span><span style="color:var(--shiki-color-text)">     </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">non</span><span style="color:var(--shiki-color-text)">e</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">80</span><span style="color:var(--shiki-token-string)">/TCP,443/TCP</span><span style="color:var(--shiki-color-text)">               </span><span style="color:var(--shiki-token-constant)">175</span><span style="color:var(--shiki-token-string)">m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-server-metrics</span><span style="color:var(--shiki-color-text)">                     </span><span style="color:var(--shiki-token-string)">ClusterIP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">10.100</span><span style="color:var(--shiki-token-string)">.29.0</span><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">non</span><span style="color:var(--shiki-color-text)">e</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">8083</span><span style="color:var(--shiki-token-string)">/TCP</span><span style="color:var(--shiki-color-text)">                     </span><span style="color:var(--shiki-token-constant)">175</span><span style="color:var(--shiki-token-string)">m</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">## 또는 아래와 같이 svc 라는 단축 명령어로 확인 가능하다.</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">$</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">kubectl</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">-n</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">argocd</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">get</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">svc</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">NAME</span><span style="color:var(--shiki-color-text)">                                      </span><span style="color:var(--shiki-token-string)">TYPE</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-string)">CLUSTER-IP</span><span style="color:var(--shiki-color-text)">       </span><span style="color:var(--shiki-token-string)">EXTERNAL-IP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-string)">PORT</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-function)">S</span><span style="color:var(--shiki-color-text)">)                      </span><span style="color:var(--shiki-token-string)">AGE</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-applicationset-controller</span><span style="color:var(--shiki-color-text)">          </span><span style="color:var(--shiki-token-string)">ClusterIP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">10.100</span><span style="color:var(--shiki-token-string)">.117.173</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">non</span><span style="color:var(--shiki-color-text)">e</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">7000</span><span style="color:var(--shiki-token-string)">/TCP,8080/TCP</span><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-constant)">176</span><span style="color:var(--shiki-token-string)">m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-dex-server</span><span style="color:var(--shiki-color-text)">                         </span><span style="color:var(--shiki-token-string)">ClusterIP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">10.100</span><span style="color:var(--shiki-token-string)">.105.200</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">non</span><span style="color:var(--shiki-color-text)">e</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">5556</span><span style="color:var(--shiki-token-string)">/TCP,5557/TCP,5558/TCP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">176</span><span style="color:var(--shiki-token-string)">m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-metrics</span><span style="color:var(--shiki-color-text)">                            </span><span style="color:var(--shiki-token-string)">ClusterIP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">10.100</span><span style="color:var(--shiki-token-string)">.159.217</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">non</span><span style="color:var(--shiki-color-text)">e</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">8082</span><span style="color:var(--shiki-token-string)">/TCP</span><span style="color:var(--shiki-color-text)">                     </span><span style="color:var(--shiki-token-constant)">176</span><span style="color:var(--shiki-token-string)">m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-notifications-controller-metrics</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-string)">ClusterIP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">10.100</span><span style="color:var(--shiki-token-string)">.149.169</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">non</span><span style="color:var(--shiki-color-text)">e</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">9001</span><span style="color:var(--shiki-token-string)">/TCP</span><span style="color:var(--shiki-color-text)">                     </span><span style="color:var(--shiki-token-constant)">176</span><span style="color:var(--shiki-token-string)">m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-redis</span><span style="color:var(--shiki-color-text)">                              </span><span style="color:var(--shiki-token-string)">ClusterIP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">10.100</span><span style="color:var(--shiki-token-string)">.170.48</span><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">non</span><span style="color:var(--shiki-color-text)">e</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">6379</span><span style="color:var(--shiki-token-string)">/TCP</span><span style="color:var(--shiki-color-text)">                     </span><span style="color:var(--shiki-token-constant)">176</span><span style="color:var(--shiki-token-string)">m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-repo-server</span><span style="color:var(--shiki-color-text)">                        </span><span style="color:var(--shiki-token-string)">ClusterIP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">10.100</span><span style="color:var(--shiki-token-string)">.139.2</span><span style="color:var(--shiki-color-text)">     </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">non</span><span style="color:var(--shiki-color-text)">e</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">8081</span><span style="color:var(--shiki-token-string)">/TCP,8084/TCP</span><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-constant)">176</span><span style="color:var(--shiki-token-string)">m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-server</span><span style="color:var(--shiki-color-text)">                             </span><span style="color:var(--shiki-token-string)">ClusterIP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">10.100</span><span style="color:var(--shiki-token-string)">.96.73</span><span style="color:var(--shiki-color-text)">     </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">non</span><span style="color:var(--shiki-color-text)">e</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">80</span><span style="color:var(--shiki-token-string)">/TCP,443/TCP</span><span style="color:var(--shiki-color-text)">               </span><span style="color:var(--shiki-token-constant)">176</span><span style="color:var(--shiki-token-string)">m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-server-metrics</span><span style="color:var(--shiki-color-text)">                     </span><span style="color:var(--shiki-token-string)">ClusterIP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">10.100</span><span style="color:var(--shiki-token-string)">.29.0</span><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">non</span><span style="color:var(--shiki-color-text)">e</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">8083</span><span style="color:var(--shiki-token-string)">/TCP</span><span style="color:var(--shiki-color-text)">                     </span><span style="color:var(--shiki-token-constant)">176</span><span style="color:var(--shiki-token-string)">m</span></span></code></pre><div class="nx-opacity-0 nx-transition [div:hover&gt;&amp;]:nx-opacity-100 focus-within:nx-opacity-100 nx-flex nx-gap-1 nx-absolute nx-m-[11px] nx-right-0 nx-top-8"><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50 md:nx-hidden" title="Toggle word wrap"><svg viewBox="0 0 24 24" width="24" height="24" class="nx-pointer-events-none nx-h-4 nx-w-4"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50" title="Copy code" tabindex="0"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" class="nextra-copy-icon nx-pointer-events-none nx-h-4 nx-w-4"><rect x="9" y="9" width="13" height="13" rx="2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></rect><path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div></div>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">이번에는 외부에서 워커노드(EC2)의 80 포트로의 유입이 발생할 경우 Pod 의 8080 포트와 연결해주는 NodePort 를 작성한다. yml 파일 명과 그 내용은 아래와 같다.<br/>
<strong>argocd-server-nodeport.yml</strong></p>
<div class="nextra-code-block nx-relative nx-mt-6 first:nx-mt-0"><div class="nx-absolute nx-top-0 nx-z-[1] nx-w-full nx-truncate nx-rounded-t-xl nx-bg-primary-700/5 nx-py-2 nx-px-4 nx-text-xs nx-text-gray-700 dark:nx-bg-primary-300/10 dark:nx-text-gray-200">argocd-server-nodeport.yml</div><pre class="nx-bg-primary-700/5 nx-mb-4 nx-overflow-x-auto nx-rounded-xl nx-subpixel-antialiased dark:nx-bg-primary-300/10 nx-text-[.9em] contrast-more:nx-border contrast-more:nx-border-primary-900/20 contrast-more:nx-contrast-150 contrast-more:dark:nx-border-primary-100/40 nx-pt-12 nx-pb-4" data-language="yaml" data-theme="default"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr" data-language="yaml" data-theme="default"><span class="line"><span style="color:var(--shiki-color-text)">---</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">apiVersion</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">v1</span></span>
<span class="line highlighted"><span style="color:var(--shiki-token-keyword)">kind</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">Service</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">metadata</span><span style="color:var(--shiki-token-keyword)">:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-keyword)">labels</span><span style="color:var(--shiki-token-keyword)">:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">app</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">argocd-server-nodeport</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-keyword)">name</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">argocd-server-nodeport</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-keyword)">namespace</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">argocd</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">spec</span><span style="color:var(--shiki-token-keyword)">:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-keyword)">ports</span><span style="color:var(--shiki-token-keyword)">:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  - </span><span style="color:var(--shiki-token-keyword)">name</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;80&quot;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">port</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">80</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">targetPort</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">8080</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">protocol</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">TCP</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-keyword)">selector</span><span style="color:var(--shiki-token-keyword)">:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">app.kubernetes.io/name</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">argocd-server</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-keyword)">sessionAffinity</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">None</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-keyword)">type</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">NodePort</span></span></code></pre><div class="nx-opacity-0 nx-transition [div:hover&gt;&amp;]:nx-opacity-100 focus-within:nx-opacity-100 nx-flex nx-gap-1 nx-absolute nx-m-[11px] nx-right-0 nx-top-8"><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50 md:nx-hidden" title="Toggle word wrap"><svg viewBox="0 0 24 24" width="24" height="24" class="nx-pointer-events-none nx-h-4 nx-w-4"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50" title="Copy code" tabindex="0"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" class="nextra-copy-icon nx-pointer-events-none nx-h-4 nx-w-4"><rect x="9" y="9" width="13" height="13" rx="2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></rect><path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div></div>
<br/>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">워커노드의 80 포트에 대한 트래픽을 Pod 의 8080 포트에 연결해주는 NodePort 에 대한 내용이다.<br/>
그리고 이 yml 파일을 kubectl 로 적용하면 아래와 같다.<br/></p>
<br/>
<div class="nextra-code-block nx-relative nx-mt-6 first:nx-mt-0"><div class="nx-absolute nx-top-0 nx-z-[1] nx-w-full nx-truncate nx-rounded-t-xl nx-bg-primary-700/5 nx-py-2 nx-px-4 nx-text-xs nx-text-gray-700 dark:nx-bg-primary-300/10 dark:nx-text-gray-200">bash</div><pre class="nx-bg-primary-700/5 nx-mb-4 nx-overflow-x-auto nx-rounded-xl nx-subpixel-antialiased dark:nx-bg-primary-300/10 nx-text-[.9em] contrast-more:nx-border contrast-more:nx-border-primary-900/20 contrast-more:nx-contrast-150 contrast-more:dark:nx-border-primary-100/40 nx-pt-12 nx-pb-4" data-language="bash" data-theme="default"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr" data-language="bash" data-theme="default"><span class="line"><span style="color:var(--shiki-token-comment)">## kubectl 을 통해 적용한다.</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">$</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">kubectl</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">apply</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">-f</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">argocd-server-nodeport.yml</span><span style="color:var(--shiki-color-text)"> </span></span>
<span class="line highlighted"><span style="color:var(--shiki-token-function)">service/argocd-server-nodeport</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">created</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">## 직접 service 를 조회해보면 아래와 같이 argocd-server-nodeport 가 정상적으로 추가되었음으 확인 가능하다.</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">$</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">kubectl</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">-n</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">argocd</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">get</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">service</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">NAME</span><span style="color:var(--shiki-color-text)">                                      </span><span style="color:var(--shiki-token-string)">TYPE</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-string)">CLUSTER-IP</span><span style="color:var(--shiki-color-text)">       </span><span style="color:var(--shiki-token-string)">EXTERNAL-IP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-string)">PORT</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-function)">S</span><span style="color:var(--shiki-color-text)">)                      </span><span style="color:var(--shiki-token-string)">AGE</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-applicationset-controller</span><span style="color:var(--shiki-color-text)">          </span><span style="color:var(--shiki-token-string)">ClusterIP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">10.100</span><span style="color:var(--shiki-token-string)">.117.173</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">non</span><span style="color:var(--shiki-color-text)">e</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">7000</span><span style="color:var(--shiki-token-string)">/TCP,8080/TCP</span><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-constant)">4</span><span style="color:var(--shiki-token-string)">h44m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-dex-server</span><span style="color:var(--shiki-color-text)">                         </span><span style="color:var(--shiki-token-string)">ClusterIP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">10.100</span><span style="color:var(--shiki-token-string)">.105.200</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">non</span><span style="color:var(--shiki-color-text)">e</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">5556</span><span style="color:var(--shiki-token-string)">/TCP,5557/TCP,5558/TCP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">4</span><span style="color:var(--shiki-token-string)">h44m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-metrics</span><span style="color:var(--shiki-color-text)">                            </span><span style="color:var(--shiki-token-string)">ClusterIP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">10.100</span><span style="color:var(--shiki-token-string)">.159.217</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">non</span><span style="color:var(--shiki-color-text)">e</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">8082</span><span style="color:var(--shiki-token-string)">/TCP</span><span style="color:var(--shiki-color-text)">                     </span><span style="color:var(--shiki-token-constant)">4</span><span style="color:var(--shiki-token-string)">h44m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-notifications-controller-metrics</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-string)">ClusterIP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">10.100</span><span style="color:var(--shiki-token-string)">.149.169</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">non</span><span style="color:var(--shiki-color-text)">e</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">9001</span><span style="color:var(--shiki-token-string)">/TCP</span><span style="color:var(--shiki-color-text)">                     </span><span style="color:var(--shiki-token-constant)">4</span><span style="color:var(--shiki-token-string)">h44m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-redis</span><span style="color:var(--shiki-color-text)">                              </span><span style="color:var(--shiki-token-string)">ClusterIP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">10.100</span><span style="color:var(--shiki-token-string)">.170.48</span><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">non</span><span style="color:var(--shiki-color-text)">e</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">6379</span><span style="color:var(--shiki-token-string)">/TCP</span><span style="color:var(--shiki-color-text)">                     </span><span style="color:var(--shiki-token-constant)">4</span><span style="color:var(--shiki-token-string)">h44m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-repo-server</span><span style="color:var(--shiki-color-text)">                        </span><span style="color:var(--shiki-token-string)">ClusterIP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">10.100</span><span style="color:var(--shiki-token-string)">.139.2</span><span style="color:var(--shiki-color-text)">     </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">non</span><span style="color:var(--shiki-color-text)">e</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">8081</span><span style="color:var(--shiki-token-string)">/TCP,8084/TCP</span><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-constant)">4</span><span style="color:var(--shiki-token-string)">h44m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-server</span><span style="color:var(--shiki-color-text)">                             </span><span style="color:var(--shiki-token-string)">ClusterIP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">10.100</span><span style="color:var(--shiki-token-string)">.96.73</span><span style="color:var(--shiki-color-text)">     </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">non</span><span style="color:var(--shiki-color-text)">e</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">80</span><span style="color:var(--shiki-token-string)">/TCP,443/TCP</span><span style="color:var(--shiki-color-text)">               </span><span style="color:var(--shiki-token-constant)">4</span><span style="color:var(--shiki-token-string)">h44m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-server-metrics</span><span style="color:var(--shiki-color-text)">                     </span><span style="color:var(--shiki-token-string)">ClusterIP</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">10.100</span><span style="color:var(--shiki-token-string)">.29.0</span><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">non</span><span style="color:var(--shiki-color-text)">e</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">8083</span><span style="color:var(--shiki-token-string)">/TCP</span><span style="color:var(--shiki-color-text)">                     </span><span style="color:var(--shiki-token-constant)">4</span><span style="color:var(--shiki-token-string)">h44m</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd-server-nodeport</span><span style="color:var(--shiki-color-text)">                    </span><span style="color:var(--shiki-token-string)">NodePort</span><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-constant)">10.100</span><span style="color:var(--shiki-token-string)">.53.245</span><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">non</span><span style="color:var(--shiki-color-text)">e</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">80</span><span style="color:var(--shiki-token-string)">:30040/TCP</span><span style="color:var(--shiki-color-text)">                 </span><span style="color:var(--shiki-token-constant)">4</span><span style="color:var(--shiki-token-string)">m53s</span></span></code></pre><div class="nx-opacity-0 nx-transition [div:hover&gt;&amp;]:nx-opacity-100 focus-within:nx-opacity-100 nx-flex nx-gap-1 nx-absolute nx-m-[11px] nx-right-0 nx-top-8"><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50 md:nx-hidden" title="Toggle word wrap"><svg viewBox="0 0 24 24" width="24" height="24" class="nx-pointer-events-none nx-h-4 nx-w-4"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50" title="Copy code" tabindex="0"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" class="nextra-copy-icon nx-pointer-events-none nx-h-4 nx-w-4"><rect x="9" y="9" width="13" height="13" rx="2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></rect><path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div></div>
<br/>
<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">80 포트 Rule 이 적용된 Security Rule ID 를 명시한 Ingress 생성 (ingress.yml 작성 → apply)<a href="#80-포트-rule-이-적용된-security-rule-id-를-명시한-ingress-생성-ingressyml-작성--apply" id="80-포트-rule-이-적용된-security-rule-id-를-명시한-ingress-생성-ingressyml-작성--apply" class="subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">아래 코드에 적용하는 security group, subnet 을 생성하는 과정은</p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">[TODO: ArgoCD ALB 용도의 Ingress 에 Subnet 지정, 보안그룹 생성] 에 따로 정리해두었다.</li>
</ul>
<br/>
<div class="nextra-code-block nx-relative nx-mt-6 first:nx-mt-0"><div class="nx-absolute nx-top-0 nx-z-[1] nx-w-full nx-truncate nx-rounded-t-xl nx-bg-primary-700/5 nx-py-2 nx-px-4 nx-text-xs nx-text-gray-700 dark:nx-bg-primary-300/10 dark:nx-text-gray-200">yaml</div><pre class="nx-bg-primary-700/5 nx-mb-4 nx-overflow-x-auto nx-rounded-xl nx-subpixel-antialiased dark:nx-bg-primary-300/10 nx-text-[.9em] contrast-more:nx-border contrast-more:nx-border-primary-900/20 contrast-more:nx-contrast-150 contrast-more:dark:nx-border-primary-100/40 nx-pt-12 nx-pb-4" data-language="yaml" data-theme="default"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr" data-language="yaml" data-theme="default"><span class="line"><span style="color:var(--shiki-token-keyword)">apiVersion</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">networking.k8s.io/v1</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">kind</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">Ingress</span></span>
<span class="line highlighted"><span style="color:var(--shiki-token-keyword)">metadata</span><span style="color:var(--shiki-token-keyword)">:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-keyword)">name</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">argocd</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-keyword)">namespace</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">argocd</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-keyword)">annotations</span><span style="color:var(--shiki-token-keyword)">:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">alb.ingress.kubernetes.io/listen-ports</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;[{&quot;HTTP&quot;: 80}]&#x27;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">alb.ingress.kubernetes.io/scheme</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">internet-facing</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">alb.ingress.kubernetes.io/target-type</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">ip</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">alb.ingress.kubernetes.io/healthcheck-path</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">/healthz</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">alb.ingress.kubernetes.io/healthcheck-protocol</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">HTTP</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">alb.ingress.kubernetes.io/success-codes</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;200&#x27;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">alb.ingress.kubernetes.io/security-groups</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">sg-xxxxx</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">alb.ingress.kubernetes.io/subnets</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">subnet-xxxxx,subnet-xxxxx,subnet-xxxxx</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">spec</span><span style="color:var(--shiki-token-keyword)">:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-keyword)">ingressClassName</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">alb</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-keyword)">rules</span><span style="color:var(--shiki-token-keyword)">:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  - </span><span style="color:var(--shiki-token-keyword)">http</span><span style="color:var(--shiki-token-keyword)">:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-keyword)">paths</span><span style="color:var(--shiki-token-keyword)">:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      - </span><span style="color:var(--shiki-token-keyword)">path</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">/</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">backend</span><span style="color:var(--shiki-token-keyword)">:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">          </span><span style="color:var(--shiki-token-keyword)">service</span><span style="color:var(--shiki-token-keyword)">:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-keyword)">name</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">argocd-server-nodeport</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-keyword)">port</span><span style="color:var(--shiki-token-keyword)">:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">              </span><span style="color:var(--shiki-token-keyword)">number</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">80</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">pathType</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">Prefix</span></span></code></pre><div class="nx-opacity-0 nx-transition [div:hover&gt;&amp;]:nx-opacity-100 focus-within:nx-opacity-100 nx-flex nx-gap-1 nx-absolute nx-m-[11px] nx-right-0 nx-top-8"><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50 md:nx-hidden" title="Toggle word wrap"><svg viewBox="0 0 24 24" width="24" height="24" class="nx-pointer-events-none nx-h-4 nx-w-4"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50" title="Copy code" tabindex="0"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" class="nextra-copy-icon nx-pointer-events-none nx-h-4 nx-w-4"><rect x="9" y="9" width="13" height="13" rx="2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></rect><path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div></div>
<br/>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">ALB 의 경우 외부와 통신을 통해 내부의 Nodeport 와 연결해줘야 하므로 ALB 자신은 Public 서브넷에 위치해야 한다. 이런 이유로 alb.ingress.kubernetes.io/subnets 에는 eksctl 이 생성한 Public 서브넷만 들만을 명시해줘야 한다.</p>
<br/>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">작성한 ekscluster-global-ingress.yml 파일을 kubectl 을 통해 적용한다.<br/></p>
<div class="nextra-code-block nx-relative nx-mt-6 first:nx-mt-0"><div class="nx-absolute nx-top-0 nx-z-[1] nx-w-full nx-truncate nx-rounded-t-xl nx-bg-primary-700/5 nx-py-2 nx-px-4 nx-text-xs nx-text-gray-700 dark:nx-bg-primary-300/10 dark:nx-text-gray-200">bash</div><pre class="nx-bg-primary-700/5 nx-mb-4 nx-overflow-x-auto nx-rounded-xl nx-subpixel-antialiased dark:nx-bg-primary-300/10 nx-text-[.9em] contrast-more:nx-border contrast-more:nx-border-primary-900/20 contrast-more:nx-contrast-150 contrast-more:dark:nx-border-primary-100/40 nx-pt-12 nx-pb-4" data-language="bash" data-theme="default"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr" data-language="bash" data-theme="default"><span class="line"><span style="color:var(--shiki-token-function)">$</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">kubectl</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">apply</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">-f</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">ekscluster-global-ingress.yml</span><span style="color:var(--shiki-color-text)"> </span></span>
<span class="line"><span style="color:var(--shiki-token-function)">ingress.networking.k8s.io/argocd</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">created</span></span>
<span class="line highlighted"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">## ingress 조회</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">$</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">kubectl</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">-n</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">argocd</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">get</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">ingress</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">NAME</span><span style="color:var(--shiki-color-text)">     </span><span style="color:var(--shiki-token-string)">CLASS</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-string)">HOSTS</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-string)">ADDRESS</span><span style="color:var(--shiki-color-text)">                                                                   </span><span style="color:var(--shiki-token-string)">PORTS</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-string)">AGE</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">argocd</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-string)">alb</span><span style="color:var(--shiki-color-text)">     </span><span style="color:var(--shiki-token-string)">*</span><span style="color:var(--shiki-color-text)">       </span><span style="color:var(--shiki-token-string)">k8s-argocd-argocd-23f933d87c-589378327.ap-northeast-2.elb.amazonaws.com</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-constant)">80</span><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-constant)">2</span><span style="color:var(--shiki-token-string)">m17s</span></span>
<span class="line"> </span>
<span class="line"> </span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">## ingress 세부 내용 조회</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">$</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">kubectl</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">-n</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">argocd</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">describe</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">ingress</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">argocd</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">Name:</span><span style="color:var(--shiki-color-text)">             </span><span style="color:var(--shiki-token-string)">argocd</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">Labels:</span><span style="color:var(--shiki-color-text)">           </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">non</span><span style="color:var(--shiki-color-text)">e</span><span style="color:var(--shiki-token-keyword)">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">Namespace:</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-string)">argocd</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">Address:</span><span style="color:var(--shiki-color-text)">          </span><span style="color:var(--shiki-token-string)">k8s-argocd-argocd-23f933d87c-589378327.ap-northeast-2.elb.amazonaws.com</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">Ingress</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">Class:</span><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-string)">alb</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">Default</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">backend:</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-token-string)">defaul</span><span style="color:var(--shiki-color-text)">t</span><span style="color:var(--shiki-token-keyword)">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">Rules:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">Host</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-string)">Path</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-string)">Backends</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">----</span><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-string)">----</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-string)">--------</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">*</span><span style="color:var(--shiki-color-text)">           </span></span>
<span class="line"><span style="color:var(--shiki-color-text)">              </span><span style="color:var(--shiki-token-function)">/</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-string)">argocd-server-nodeport:80</span><span style="color:var(--shiki-color-text)"> (192.168.124.124:8080)</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">Annotations:</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-string)">alb.ingress.kubernetes.io/healthcheck-path:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">/healthz</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">              </span><span style="color:var(--shiki-token-function)">alb.ingress.kubernetes.io/healthcheck-protocol:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">HTTP</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">              </span><span style="color:var(--shiki-token-function)">alb.ingress.kubernetes.io/listen-ports:</span><span style="color:var(--shiki-color-text)"> [{</span><span style="color:var(--shiki-token-function)">&quot;HTTP&quot;</span><span style="color:var(--shiki-token-function)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">80</span><span style="color:var(--shiki-token-string)">}]</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">              </span><span style="color:var(--shiki-token-function)">alb.ingress.kubernetes.io/scheme:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">internet-facing</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">              </span><span style="color:var(--shiki-token-function)">alb.ingress.kubernetes.io/security-groups:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">sg-0dfb95642ecc23d76</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">              </span><span style="color:var(--shiki-token-function)">alb.ingress.kubernetes.io/subnets:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">subnet-06fe014719b653560,subnet-023fe2ec39f326241,subnet-0735aaf15bfeabec6</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">              </span><span style="color:var(--shiki-token-function)">alb.ingress.kubernetes.io/success-codes:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">200</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">              </span><span style="color:var(--shiki-token-function)">alb.ingress.kubernetes.io/target-type:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">ip</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">Events:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">Type</span><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-string)">Reason</span><span style="color:var(--shiki-color-text)">                  </span><span style="color:var(--shiki-token-string)">Age</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-string)">From</span><span style="color:var(--shiki-color-text)">     </span><span style="color:var(--shiki-token-string)">Message</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">----</span><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-string)">------</span><span style="color:var(--shiki-color-text)">                  </span><span style="color:var(--shiki-token-string)">----</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-string)">----</span><span style="color:var(--shiki-color-text)">     </span><span style="color:var(--shiki-token-string)">-------</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">Normal</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-string)">SuccessfullyReconciled</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-constant)">3</span><span style="color:var(--shiki-token-string)">m5s</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-string)">ingress</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-string)">Successfully</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">reconciled</span></span></code></pre><div class="nx-opacity-0 nx-transition [div:hover&gt;&amp;]:nx-opacity-100 focus-within:nx-opacity-100 nx-flex nx-gap-1 nx-absolute nx-m-[11px] nx-right-0 nx-top-8"><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50 md:nx-hidden" title="Toggle word wrap"><svg viewBox="0 0 24 24" width="24" height="24" class="nx-pointer-events-none nx-h-4 nx-w-4"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50" title="Copy code" tabindex="0"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" class="nextra-copy-icon nx-pointer-events-none nx-h-4 nx-w-4"><rect x="9" y="9" width="13" height="13" rx="2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></rect><path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div></div>
<br/>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">ec2 대시보드에서 로드밸런서가 잘 생성되어있는지 확인해보자.
<img src="https://raw.githubusercontent.com/chagchagchag/docs-argocd-setup-at-eks/main/pages/2-setup-argocd/img/2.2-ENABLE-HTTP-RULE-AT-ARGOCD/6.png" alt=""/></p>
<br/>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">리스너 및 규칙을 확인해보자.<br/>
맨 아래의 리스너 및 규칙 탭 → HTTP:80 링크를 클릭한다.<br/>
<img src="https://raw.githubusercontent.com/chagchagchag/docs-argocd-setup-at-eks/main/pages/2-setup-argocd/img/2.2-ENABLE-HTTP-RULE-AT-ARGOCD/7.png" alt=""/></p>
<br/>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">이동한 리스너 규칙 페이지에서는 대상 그룹으로 전달 에 해당하는 링크를 클릭한다.<br/>
<img src="https://raw.githubusercontent.com/chagchagchag/docs-argocd-setup-at-eks/main/pages/2-setup-argocd/img/2.2-ENABLE-HTTP-RULE-AT-ARGOCD/8.png" alt=""/></p>
<br/>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">이동한 페이지에서는 리스너 규칙에 해당하는 대상 그룹에서의 트래픽 현환을 확인해볼 수 있다.<br/>
<img src="https://raw.githubusercontent.com/chagchagchag/docs-argocd-setup-at-eks/main/pages/2-setup-argocd/img/2.2-ENABLE-HTTP-RULE-AT-ARGOCD/9.png" alt=""/></p>
<br/>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">밑으로 스크롤을 해보면 Healthy 라고 표시된 상태가 나타난다.<br/>
<img src="https://raw.githubusercontent.com/chagchagchag/docs-argocd-setup-at-eks/main/pages/2-setup-argocd/img/2.2-ENABLE-HTTP-RULE-AT-ARGOCD/10.png" alt=""/></p>
<br/>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">이 Healthy 라고 하는 상태는 상태검사 탭에서 볼수 있듯 /heathz 에 대해 주기적으로 체크함으로써 얻어내는 상태값이다.<br/>
<img src="https://raw.githubusercontent.com/chagchagchag/docs-argocd-setup-at-eks/main/pages/2-setup-argocd/img/2.2-ENABLE-HTTP-RULE-AT-ARGOCD/11.png" alt=""/></p>
<br/><div class="nx-mt-16"></div><div class="nx-mb-8 nx-flex nx-items-center nx-border-t nx-pt-8 dark:nx-border-neutral-800 contrast-more:nx-border-neutral-400 dark:contrast-more:nx-border-neutral-400 print:nx-hidden"><a title="1. ArgoCD 공식 제공 yml 을 이용해 ArgoCD 설치" class="nx-flex nx-max-w-[50%] nx-items-center nx-gap-1 nx-py-4 nx-text-base nx-font-medium nx-text-gray-600 nx-transition-colors [word-break:break-word] hover:nx-text-primary-600 dark:nx-text-gray-300 md:nx-text-lg ltr:nx-pr-4 rtl:nx-pl-4" href="/docs-argocd-setup-at-eks/2-setup-argocd/2.1"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="nx-inline nx-h-5 nx-shrink-0 ltr:nx-rotate-180"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>1. ArgoCD 공식 제공 yml 을 이용해 ArgoCD 설치</a><a title="3. 80포트 허용된 ArgoCD 에 Ingress URL 을 통해 접속해보기" class="nx-flex nx-max-w-[50%] nx-items-center nx-gap-1 nx-py-4 nx-text-base nx-font-medium nx-text-gray-600 nx-transition-colors [word-break:break-word] hover:nx-text-primary-600 dark:nx-text-gray-300 md:nx-text-lg ltr:nx-ml-auto ltr:nx-pl-4 ltr:nx-text-right rtl:nx-mr-auto rtl:nx-pr-4 rtl:nx-text-left" href="/docs-argocd-setup-at-eks/2-setup-argocd/2.3">3. 80포트 허용된 ArgoCD 에 Ingress URL 을 통해 접속해보기<svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="nx-inline nx-h-5 nx-shrink-0 rtl:nx-rotate-180"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></a></div></main></article></div><footer class="nx-bg-gray-100 nx-pb-[env(safe-area-inset-bottom)] dark:nx-bg-neutral-900 print:nx-bg-transparent"><div class="nx-mx-auto nx-flex nx-max-w-[90rem] nx-gap-2 nx-py-2 nx-px-4 nx-hidden"><button title="Change theme" class="nx-h-7 nx-rounded-md nx-px-2 nx-text-left nx-text-xs nx-font-medium nx-text-gray-600 nx-transition-colors dark:nx-text-gray-400 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50" id="headlessui-listbox-button-:Rkt6:" type="button" aria-haspopup="listbox" aria-expanded="false" data-headlessui-state=""><div class="nx-flex nx-items-center nx-gap-2 nx-capitalize"><svg fill="none" viewBox="3 3 18 18" width="12" height="12" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" fill="currentColor" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg><span class="">Light</span></div></button></div><hr class="dark:nx-border-neutral-800"/><div class="nx-mx-auto nx-flex nx-max-w-[90rem] nx-justify-center nx-py-12 nx-text-gray-600 dark:nx-text-gray-400 md:nx-justify-start nx-pl-[max(env(safe-area-inset-left),1.5rem)] nx-pr-[max(env(safe-area-inset-right),1.5rem)]">Nextra Docs Template</div></footer></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{}},"page":"/2-setup-argocd/2.2","query":{},"buildId":"EhRCgNBg_koVziJJ225v6","assetPrefix":"/docs-argocd-setup-at-eks","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>